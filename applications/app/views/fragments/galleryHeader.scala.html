@(gallery: model.GalleryPage)(implicit request: RequestHeader)

@import views.support.TrailCssClasses.toneClass

<header class="content__head tonal__head tonal__head--@toneClass(gallery.item)">
    @* Hidden because we visually show this data in the head, but needed here for SEO. *@
    <h1 class="is-hidden" itemprop="headline">@Html(gallery.item.trail.headline)</h1>

    <div class="gs-container">
        <div class="gallery__header">

            <div class="gallery__badge--container">
                @fragments.commercial.badge(gallery.item, gallery)
            </div>

            <div class="meta__extras--gallery">
                <div class="meta__social meta__social--gallery" data-component="share">
                    @fragments.social(gallery.item.sharelinks.pageShares, "top", iconModifier = List("social-icon-media"))
                </div>

                <div class="meta__numbers meta__numbers--gallery">
                    <div class="u-h meta__number meta__number--gallery js-sharecount"></div>
                    <div class="u-h meta__number meta__number--gallery"
                         data-discussion-id="@gallery.item.content.discussionId"
                         data-commentcount-format="content"
                         data-discussion-closed="@{!gallery.item.trail.isCommentable}">
                    </div>
                </div>
            </div>

            @if(gallery.item.fields.standfirst.isDefined) {
                <div class="tonal__standfirst">
                    @fragments.standfirst(gallery.item)
                </div>
            }

            <div class="gallery__meta-container">
                @if(!gallery.item.content.hasTonalHeaderByline) {
                    @fragments.meta.byline(gallery.item.trail.byline, gallery.item.tags)
                }

                @if(gallery.item.content.tags.contributors.length == 1) {
                    @if(gallery.item.content.hasTonalHeaderByline && (gallery.item.tags.contributors.headOption.exists(_.properties.twitterHandle.nonEmpty) || gallery.item.tags.contributors.headOption.exists(_.properties.emailAddress.nonEmpty))) { <p class="meta__contact-header hide-until-leftcol">Contact author</p> }
                    @fragments.meta.contactAuthor(gallery.item.tags)
                }

                @if(!gallery.item.trail.shouldHidePublicationDate) {
                    @fragments.meta.dateline(gallery.item.trail.webPublicationDate, gallery.item.fields.lastModified, gallery.item.content.hasBeenModified, gallery.item.fields.firstPublicationDate, gallery.item.tags.isLiveBlog, gallery.item.fields.isLive)
                }
            </div>
        </div>
    </div>
</header>
