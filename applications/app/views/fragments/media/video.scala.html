@(video: Video)

<video controls="controls" class="gu-video" @video.mainPicture.map{ img => poster="@Item620.bestFor(img)" }
        data-title="@video.headline" data-duration="@video.duration.toString()" @video.mediaId.map{ id=> data-media-id="@id"}>
@video.encodings.map{ encoding =>
    <source src="@encoding.url" type="@encoding.format" />
}

@video.encodings.find(_.format == "video/mp4").map{ encoding =>
    <object type="application/x-shockwave-flash" data="@Static("flash/flashmediaelement.swf")" width="620" height="350">
        <param name="allowFullScreen" value="true" />
        <param name="movie" value="@Static("flash/flashmediaelement.swf")" />
        <param name="flashvars" value="controls=true&amp;file=@encoding.url" />
        <img @video.mainPicture.map{ img =>  src="@Item620.bestFor(img).map(Html(_))" } alt="" width="620" height="350" />
        Sorry, your browser is unable to play this video.
    </object>
}
</video>
