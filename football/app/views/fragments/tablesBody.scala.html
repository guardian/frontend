@(model: TablesPage)(implicit request: RequestHeader)
@import support._
@import org.joda.time.DateTime

<h2 class="page-head page-head--article">
    <a data-link-name="article section" href="/football">Football</a>
</h2>

<div class="live-matches-dateline">
    <p class="dateline"><i class="i i-date"></i> <span>Last updated: a minute ago</span></p>
</div>

@fragments.filterBar(model.page.webTitle)

@fragments.filters(model.filters, model.page, "tables")

<ol class="competitions football-table-container" data-link-name="tables" role="main">


    @model.tables.map{ table =>


    <li class="league-table">

        <a class="competition-title football-table-header football-table-link type-7" href="@table.competition.url" data-link-name="competition">
            @table.competition.fullName
        </a>

        <table class="table-football">
            @if(!table.multiGroup) {
                <thead class="table-football-header">
                    @fragments.tableColumnHeaders()
                </thead>
            }


            @table.groups.map{ group =>
            <tbody class="table-football-body @if(table.multiGroup) { table-football-body--multigroup }">
                @if(table.multiGroup) {
                    @group.round.map { round =>
                        @round.name.map { name =>
                            <tr>
                                <th colspan="20" class="table-football-leftaligned">@name</th>
                            </tr>
                            @* we repeat this nav for group tables *@
                            @fragments.tableColumnHeaders()
                        }
                    }
                }
                @group.entries.zipWithRowInfo.map{ case (entry, row) => @fragments.tableRow(entry, row) }
            </tbody>
            }
        </table>

        @if(!model.singleCompetition) {
            <a href='@{table.competition.url + "/table"}' data-link-name='full table' class="cta table-football__cta">
                <span class="cta__text">View full @table.competition.fullName table</span>
                <span class="cta__btn cta__btn--right">
                    <i class="i i-arrow-blue-down cta__icn--right"></i>
                </span>
            </a>
        }

    </li>
    }
</ol>

@fragments.footballNav(model.urlBase, model.comp.map(c => c.fullName), model.comp.map(c => c.url))

@fragments.mostPopularPlaceholder("sport")
