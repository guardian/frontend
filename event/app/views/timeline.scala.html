@(page: TimeLinePage)(implicit request: RequestHeader)

@main(page, Switches.all){ }{
    @page.events.map { event =>
        <div id="@event.id" class="event-block">
            <time>@event.startDate.toString("dd MMM yyyy h.mma").replace("AM", "am").replace("PM", "pm")</time>
            <h2 class="type-2 article-zone">@event.title</h2>
            <div class="trailblock">
                @defining(event.content.length){ numTrails =>
                    @fragments.trailblocks.thumbnail(event.content, numItemsVisible = 1, numThumbnails = 1, headingLevel = 3)
                    @fragments.trailblocks.headline(event.content.drop(1), numItemsVisible = numTrails)
                }
            </div>
        </div>
    }
}