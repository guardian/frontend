@(story: Story)

<!-- all the photos we have on this subject from the latest chapter -->

@gallery(g: model.Gallery) = {

        @g.images.zipWithRowInfo.map{ case(image, info) =>
            <figure class="story-picture">
                <img class="story-picture__image" src="@image.url" />
                @image.caption.map { caption =>
                    <figcaption class="story-picture__caption">@caption</figcaption>
                }
            </figure>
        }
}

@eventList(events: Seq[Event], isPanel: Boolean) = {
    @events.map { event =>
        @if(event.hasContent) {
            <div class="swipe" id="picture-swipe">
                <div class="swipe-wrap">
                    @event.content.map{
                        case g: Gallery => { @gallery(g) }
                        case _ => {}
                    }
                </div>
            </div>
        }
    }
}

@if(story.hasEvents) {
    <section class="story-pictures" data-link-name="story-pictures">
        <h2 class="story-title story-title--section story-title--white">
            @story.labels.getOrElse("pictures", "In pictures")
        </h2>
        <div id="js-pictures" data-link-name="Pictures">
            @eventList(story.events.take(1), false)
            <div id="js-pictures-control" class="cta-new cta-new--dark h" data-link-name="In pictures">
                <button class="cta-new__btn cta-new__btn--left">
                    <i class="i i-arrow-white-down cta-new__icn"></i>
                </button>
                <span class="cta-new__text cta-new__text--center"></span>
                <button class="cta-new__btn cta-new__btn--right">
                    <i class="i i-arrow-white-down cta-new__icn"></i>
                </button>
            </div>
        </div>
    </section>
}
