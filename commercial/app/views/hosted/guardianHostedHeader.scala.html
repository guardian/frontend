@import common.commercial.hosted.HostedPage
@(pageCssClass: String, page: HostedPage, isAMP: Boolean = false)

<div class="hosted__header @pageCssClass">
    <div class="hosted__headerwrap js-hosted-headerwrap">
        <div class="hostedbadge hosted-tone-bg content__hosted-body">
            <p class="hostedbadge__info">Advertiser content</p>
            <a href="@page.campaign.logo.link" data-link-name="@page.campaign.logo.trackingCode" target="_blank">
            @if(isAMP) {
                <amp-img layout="responsive" width="@{page.campaign.logo.dimensions.map(_.width)}" height="@{page.campaign.logo.dimensions.map(_.height)}" class="hostedbadge__logo" src="@page.campaign.logo.src" alt="logo @page.campaign.owner"></amp-img>
            } else {
                <img class="hostedbadge__logo" src="@page.campaign.logo.src" alt="logo @page.campaign.owner"/>
            }
            </a>
        </div>
        @if(isAMP) {
            <div class="hosted__label content__hosted-body">
                <button on="tap:hosted-about-lightbox" class="hosted__tooltip-label">About</button>

                <amp-lightbox id="hosted-about-lightbox" layout="nodisplay">
                    <div class="hosted__lightbox">
                        <div class="survey-container" data-link-name="hosted page about overlay" role="dialog" aria-label="about hosted content">
                            <h3 class="survey-text__header">
                                Advertiser content
                                <div class="survey-close">
                                    <button class="hosted__lightbox-close-btn" data-link-name="hide about hosted message" on="tap:hosted-about-lightbox.close">
                                        @fragments.inlineSvg("cross", "icon", List("inline-cross hosted__lightbox-close"))
                                    </button>
                                </div>
                            </h3>
                            <div class="survey-icon">
                                @fragments.inlineSvg("paid-content", "commercial", List("hosted__lightbox-image"))
                            </div>
                            <div class="survey-text">
                                <p class="survey-text__paragraph">
                                    Advertiser content is used to describe advertisement features that are paid for, produced and controlled by the advertiser rather than the publisher​.
                                </p>
                                <p class="survey-text__paragraph">
                                    They​ are subject to regulation by the Advertising Standards Authority in the UK, the Federal Trade Commission in the US and the Advertising Standards Bureau in Australia.
                                </p>
                                <p class="survey-text__paragraph">
                                    This content is produced by the advertiser and does not involve Guardian News and Media staff.
                                </p>
                            </div>
                        </div>
                    </div>
                </amp-lightbox>
            </div>
        } else {
            <div class="paidfor-label paidfor-meta__more hosted__label has-popup">
                <button class="u-button-reset paidfor-label__btn popup__toggle hosted__label-btn js-hosted-about" data-link-name="about-advertiser-content">
                    About</button>
            </div>
        }
        <div class="hosted-header__spacer"></div>
        <a href="http://www.theguardian.com" data-link-name="@page.campaign.logo.trackingCode" class="hosted__glogo">
            <p class="hosted__glogotext">Hosted by</p>
            @fragments.inlineSvg("guardian-logo-320", "logo", List("hosted__guardian-logo"))
        </a>
    </div>
</div>
