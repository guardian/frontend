@(bestBuys: model.commercial.money.BestBuys, omnitureId: Option[String], clickMacro: Option[String])(implicit request: RequestHeader)

@defining(("1_1", "2014-05-02")) { case (version, date) =>
    <div class="commercial commercial--money commercial--tone-money" data-link-name="commercial | best buys | @omnitureId">
        <div class="commercial__inner">
            <div class="commercial__header">
                <div class="commercial__header__inner">
                    <h3 class="commercial__title">
                        @fragments.inlineSvg("marque-54", "icon")
                        @fragments.inlineSvg("logo-guardian", "logo")
                        @fragments.inlineSvg("logo-moneyshop", "commercial", List("inline-commercial-brand"))
                        <span class="u-h">The Guardian</span> <span class="u-h">Money Shop</span>
                    </h3>
                    <a class="commercial__cta button button--tertiary button--large" href="@{clickMacro}http://www.money-deals.co.uk/" data-link-name="merchandising-moneydeals-v@{version}_@{date}-browse-all-deals">
                        @fragments.inlineSvg("arrow-right", "icon", List("i-right"))
                        <span class="commercial__cta__label">View <span class="hide-on-mobile-inline">more great</span> deals</span>
                    </a>
                </div>
            </div>

            <div class="commercial__body">
                <div class="tabs">
                    <ol class="tabs__container js-tabs" role="tablist">
                        <li id="current-accounts-tab" class="tabs__tab tabs__tab--selected" role="tab" aria-selected="true" aria-controls="current-accounts"><a href="#current-accounts">Current accounts</a></li>
                        <li id="savings-account-tab" class="tabs__tab" role="tab" aria-selected="false" aria-controls="savings-account"><a href="#savings-account">Savings <span class="hide-on-mobile-inline">account</span></a></li>
                        <li id="credit-cards-tab" class="tabs__tab" role="tab" aria-selected="false" aria-controls="credit-cards"><a href="#credit-cards">Credit Cards</a></li>
                        <li id="loans-tab" class="tabs__tab" role="tab" aria-selected="false" aria-controls="loans"><a href="#loans">Loans</a></li>
                    </ol>
                    <div class="tabs__content">
                        <div class="tabs__pane current-accounts" id="current-accounts" role="tabpanel" aria-labelledby="current-accounts-tab">
                            <h4 class="commercial__headline">Looking after your day-to-day finances</h4>
                            <table class="table--commercial">
                                <thead class="table--commercial__head">
                                    <tr class="table--commercial__row">
                                        <th class="table--commercial__cell" scope="col">Provider</th>
                                        <th class="table--commercial__cell" scope="col">Account</th>
                                        <th class="table--commercial__cell" scope="col">Interest</th>
                                        <th class="table--commercial__cell"></th>
                                    </tr>
                                </thead>
                                <tbody class="table--commercial__body">
                                @bestBuys.currentAccounts.get("reward-incentive").getOrElse(Nil).take(3).map { account =>
                                    <tr class="table--commercial__row">
                                        <th class="table--commercial__cell" scope="row"><a href="@clickMacro@account.applyUrl" data-link-name="merchandising-moneydeals-v@{version}_@{date}-browse-@account.provider">@account.provider</a></th>
                                        <td class="table--commercial__cell">@account.name</td>
                                        <td class="table--commercial__cell">@account.interestRate%</td>
                                        <td class="table--commercial__cell"><a href="@clickMacro@account.applyUrl" data-link-name="merchandising-moneydeals-v@{version}_@{date}-browse-@account.provider-more">More <span class="u-h">about @account.provider's offer</span></a></td>
                                    </tr>
                                }
                                </tbody>
                            </table>
                            <a class="lineitem__cta button button--primary button--small" href="@{clickMacro}http://www.moneysupermarket.com/partners/guardian/currentaccounts/" data-link-name="merchandising-moneydeals-v@{version}_@{date}-browse-compare-current-rates">
                                Compare rates on current accounts@fragments.inlineSvg("arrow-right", "icon", List("i-right"))
                            </a>
                            <a class="lineitem__cta button button--tertiary button--small" href="@{clickMacro}/money/financial-tools-calculators-mortgage-debt-consolidation-loan-repayment-savings">
                                Tools and calculators@fragments.inlineSvg("arrow-right", "icon", List("i-right"))
                            </a>
                            <p class="lineitem__meta">Data provided by Moneysupermarket.com. Moneysupermarket.com Limited is an appointed representative of Moneysupermarket.com Financial Group Limited &copy;, which is authorised and regulated by the Financial Services Authority (FSA FRN 303190). Moneysupermarket.com Financial group Limited, registered in England No. 3157344. Registered Office: Moneysupermarket House, St. David's Park, Ewloe, CH5 3UZ. Telephone 01244 665700.</p>
                        </div>
                        <div class="tabs__pane savings modern-hidden" id="savings-account" role="tabpanel" aria-labelledby="savings-tab">
                            <h4 class="commercial__headline">A safe home for your nest egg</h4>
                            <table class="table--commercial">
                                <thead class="table--commercial__head">
                                    <tr class="table--commercial__row">
                                        <th class="table--commercial__cell" scope="col">Name</th>
                                        <th class="table--commercial__cell hide-cell-on-mobile" scope="col">Account</th>
                                        <th class="table--commercial__cell" scope="col">AER</th>
                                        <th class="table--commercial__cell"></th>
                                    </tr>
                                </thead>
                                <tbody class="table--commercial__body">
                                @bestBuys.savings.get("easy-access").getOrElse(Nil).take(3).map { account =>
                                    <tr class="table--commercial__row">
                                        <th class="table--commercial__cell" scope="row"><a href="@{clickMacro}@account.applyUrl" data-link-name="merchandising-moneydeals-v@{version}_@{date}-browse-@account.provider">@account.provider</a></th>
                                        <td class="table--commercial__cell hide-cell-on-mobile">@account.name</td>
                                        <td class="table--commercial__cell">@account.interestRate%</td>
                                        <td class="table--commercial__cell"><a href="@{clickMacro}@account.applyUrl" data-link-name="merchandising-moneydeals-v@{version}_@{date}-browse-@account.provider-more">More <span class="u-h">about @account.provider's offer</span></a></td>
                                    </tr>
                                }
                                </tbody>
                            </table>
                            <a class="lineitem__cta button button--primary button--small" href="@{clickMacro}http://www.moneysupermarket.com/partners/guardian/savings/" data-link-name="merchandising-moneydeals-v@{version}_@{date}-browse-compare-saving-rates">
                                Compare over 4,000 savings accounts@fragments.inlineSvg("arrow-right", "icon", List("i-right"))
                            </a>
                            <a class="lineitem__cta button button--tertiary button--small" href="@{clickMacro}/money/financial-tools-calculators-mortgage-debt-consolidation-loan-repayment-savings">
                                Tools and calculators@fragments.inlineSvg("arrow-right", "icon", List("i-right"))
                            </a>
                            <p class="lineitem__meta">Data provided by Moneysupermarket.com. Moneysupermarket.com Limited is an appointed representative of Moneysupermarket.com Financial Group Limited &copy;, which is authorised and regulated by the Financial Services Authority (FSA FRN 303190). Moneysupermarket.com Financial group Limited, registered in England No. 3157344. Registered Office: Moneysupermarket House, St. David's Park, Ewloe, CH5 3UZ. Telephone 01244 665700.</p>
                        </div>
                        <div class="tabs__pane credit-cards modern-hidden" id="credit-cards" role="tabpanel" aria-labelledby="credit-cards-tab">
                            <h4 class="commercial__headline">Featured offers on credit cards</h4>
                            <table class="table--commercial">
                                <thead class="table--commercial__head">
                                    <tr class="table--commercial__row">
                                        <th class="table--commercial__cell">Account Name</th>
                                        <th class="table--commercial__cell">Balance Transfer</th>
                                        <th class="table--commercial__cell">Purchases</th>
                                        <th class="table--commercial__cell">Representative APR (Variable)</th>
                                        <th class="table--commercial__cell u-h">Link to product</th>
                                    </tr>
                                </thead>
                                <tbody class="table--commercial__body">
                                    <tr class="table--commercial__row">
                                        <td class="table--commercial__cell" colspan="6">Best for balance transfer</td>
                                    </tr>
                                @bestBuys.creditCards.get("balance-transfer").getOrElse(Nil).take(1).map { creditCard =>
                                    <tr class="table--commercial__row">
                                        <th class="table--commercial__cell"><a href="@creditCard.applyUrl">@creditCard.name</a></td>
                                        <td class="table--commercial__cell">Transfer rate: @creditCard.balanceTransferRate%<br/>Duration: @creditCard.balanceTransferRateDuration months<br/>Transfer fee: @creditCard.balanceTransferFee%</td>
                                        <td class="table--commercial__cell">Purchase rate: @creditCard.purchaseRate%<br/>Duration: @creditCard.purchaseRateDuration</td>
                                        <td class="table--commercial__cell">@creditCard.representativeApr%</td>
                                        <td class="table--commercial__cell"><a href="@creditCard.applyUrl">More</a></td>
                                    </tr>
                                    <tr class="table--commercial__row">
                                        <td class="table--commercial__cell" colspan="5">@creditCard.example</td>
                                    </tr>
                                }
                                <tr class="table--commercial__row">
                                    <td class="table--commercial__cell" colspan="6">Best for purchases</td>
                                </tr>
                                @bestBuys.creditCards.get("purchases").getOrElse(Nil).take(1).map { creditCard =>
                                    <tr class="table--commercial__row">
                                        <th class="table--commercial__cell"><a href="@creditCard.applyUrl">@creditCard.name</a></td>
                                        <td class="table--commercial__cell">Transfer rate: @creditCard.balanceTransferRate%<br/>Duration: @creditCard.balanceTransferRateDuration months<br/>Transfer fee: @creditCard.balanceTransferFee%</td></td>
                                        <td class="table--commercial__cell">@creditCard.purchaseRate%, @creditCard.purchaseRateDuration</td>
                                        <td class="table--commercial__cell">@creditCard.representativeApr</td>
                                        <td class="table--commercial__cell"><a href="@creditCard.applyUrl">More</a></td>
                                    </tr>
                                    <tr class="table--commercial__row">
                                        <td class="table--commercial__cell" colspan="5">@creditCard.example</td>
                                    </tr>
                                }
                                <tr class="table--commercial__row">
                                    <td class="table--commercial__cell" colspan="6">Best for balance transfer and purchases</td>
                                </tr>
                                @bestBuys.creditCards.get("balance-transfer-and-purchases").getOrElse(Nil).take(1).map { creditCard =>
                                    <tr class="table--commercial__row">
                                        <th class="table--commercial__cell"><a href="@creditCard.applyUrl">@creditCard.name</a></td>
                                        <td class="table--commercial__cell">Transfer rate: @creditCard.balanceTransferRate%<br/>Duration: @creditCard.balanceTransferRateDuration months<br/>Transfer fee: @creditCard.balanceTransferFee%</td></td>
                                        <td class="table--commercial__cell">@creditCard.purchaseRate%, @creditCard.purchaseRateDuration</td>
                                        <td class="table--commercial__cell">@creditCard.representativeApr%</td>
                                        <td class="table--commercial__cell"><a href="@creditCard.applyUrl">More</a></td>
                                    </tr>
                                    <tr class="table--commercial__row">
                                        <td class="table--commercial__cell" colspan="5">@creditCard.example</td>
                                    </tr>
                                }
                                <tr class="table--commercial__row">
                                    <td class="table--commercial__cell" colspan="6">Best for cashback</td>
                                </tr>
                                @bestBuys.creditCards.get("cashback").getOrElse(Nil).take(1).map { creditCard =>
                                    <tr class="table--commercial__row">
                                        <th class="table--commercial__cell"><a href="@creditCard.applyUrl">@creditCard.name</a></td>
                                        <td class="table--commercial__cell">Transfer rate: @creditCard.balanceTransferRate%<br/>Duration: @creditCard.balanceTransferRateDuration months<br/>Transfer fee: @creditCard.balanceTransferFee%</td></td>
                                        <td class="table--commercial__cell">@creditCard.purchaseRate%, @creditCard.purchaseRateDuration</td>
                                        <td class="table--commercial__cell">@creditCard.representativeApr%</td>
                                        <td class="table--commercial__cell"><a href="@creditCard.applyUrl">More</a></td>
                                    </tr>
                                    <tr class="table--commercial__row">
                                        <td class="table--commercial__cell" colspan="5">@creditCard.example</td>
                                    </tr>
                                }
                                <tr class="table--commercial__row">
                                    <td class="table--commercial__cell" colspan="6">Best for low standard rate</td>
                                </tr>
                                @bestBuys.creditCards.get("low-standard-rate").getOrElse(Nil).take(1).map { creditCard =>
                                    <tr class="table--commercial__row">
                                        <th class="table--commercial__cell"><a href="@creditCard.applyUrl">@creditCard.name</a></td>
                                        <td class="table--commercial__cell">Transfer rate: @creditCard.balanceTransferRate%<br/>Duration: @creditCard.balanceTransferRateDuration months<br/>Transfer fee: @creditCard.balanceTransferFee%</td></td>
                                        <td class="table--commercial__cell">@creditCard.purchaseRate%, @creditCard.purchaseRateDuration</td>
                                        <td class="table--commercial__cell">@creditCard.representativeApr%</td>
                                        <td class="table--commercial__cell"><a href="@creditCard.applyUrl">More</a></td>
                                    </tr>
                                    <tr class="table--commercial__row">
                                        <td class="table--commercial__cell" colspan="5">@creditCard.example</td>
                                    </tr>
                                }
                                <tr class="table--commercial__row">
                                    <td class="table--commercial__cell" colspan="6">Best for rewards</td>
                                </tr>
                                @bestBuys.creditCards.get("rewards").getOrElse(Nil).take(1).map { creditCard =>
                                    <tr class="table--commercial__row">
                                        <th class="table--commercial__cell"><a href="@creditCard.applyUrl">@creditCard.name</a></td>
                                        <td class="table--commercial__cell">Transfer rate: @creditCard.balanceTransferRate%<br/>Duration: @creditCard.balanceTransferRateDuration months<br/>Transfer fee: @creditCard.balanceTransferFee%</td></td>
                                        <td class="table--commercial__cell">@creditCard.purchaseRate%, @creditCard.purchaseRateDuration</td>
                                        <td class="table--commercial__cell">@creditCard.representativeApr%</td>
                                        <td class="table--commercial__cell"><a href="@creditCard.applyUrl">More</a></td>
                                    </tr>
                                    <tr class="table--commercial__row">
                                        <td class="table--commercial__cell" colspan="5">@creditCard.example</td>
                                    </tr>
                                }
                                <tr class="table--commercial__row">
                                    <td class="table--commercial__cell" colspan="6">Best for bad credit</td>
                                </tr>
                                @bestBuys.creditCards.get("bad-credit").getOrElse(Nil).take(1).map { creditCard =>
                                    <tr class="table--commercial__row">
                                        <th class="table--commercial__cell"><a href="@creditCard.applyUrl">@creditCard.name</a></td>
                                        <td class="table--commercial__cell">Transfer rate: @creditCard.balanceTransferRate%<br/>Duration: @creditCard.balanceTransferRateDuration months<br/>Transfer fee: @creditCard.balanceTransferFee%</td></td>
                                        <td class="table--commercial__cell">@creditCard.purchaseRate%, @creditCard.purchaseRateDuration</td>
                                        <td class="table--commercial__cell">@creditCard.representativeApr%</td>
                                        <td class="table--commercial__cell"><a href="@creditCard.applyUrl">More</a></td>
                                    </tr>
                                    <tr class="table--commercial__row">
                                        <td class="table--commercial__cell" colspan="5">@creditCard.example</td>
                                    </tr>
                                }
                                </tbody>
                            </table>
                            <p class="lineitem__meta">Data provided by Moneysupermarket.com. Moneysupermarket.com Limited is an appointed representative of Moneysupermarket.com Financial Group Limited &copy;, which is authorised and regulated by the Financial Services Authority (FSA FRN 303190). Moneysupermarket.com Financial group Limited, registered in England No. 3157344. Registered Office: Moneysupermarket House, St. David's Park, Ewloe, CH5 3UZ. Telephone 01244 665700.</p>
                        </div>
                        <div class="tabs__pane loans modern-hidden" id="loans" role="tabpanel" aria-labelledby="loans-tab">
                            <h4 class="commercial__headline">Featured offers on loans</h4>
                            <table class="table--commercial">
                                <thead class="table--commercial__head">
                                    <tr class="table--commercial__row">
                                        <th class="table--commercial__cell">Loan</th>
                                        <th class="table--commercial__cell">Headline Rate</th>
                                        <th class="table--commercial__cell">APR</th>
                                        <th class="table--commercial__cell">Min Loan Amount</th>
                                        <th class="table--commercial__cell">Max Loan Amount</th>
                                        <th class="table--commercial__cell u-h">Link to product</th>
                                    </tr>
                                </thead>
                                <tbody class="table--commercial__body">
                                @bestBuys.loans.map { loan =>
                                    <tr>
                                        <td class="table--commercial__cell"><a href="@loan.applyUrl" data-link-name="merchandising-moneydeals-v@{version}_@{date}-browse-@loan.name-name">@loan.name</a></td>
                                        <td class="table--commercial__cell">@loan.headlineApr%</td>
                                        <td class="table--commercial__cell">@loan.apr%</td>
                                        <td class="table--commercial__cell hide-cell-on-mobile">£@{"%,.0f".format(loan.minAdvance)}</td>
                                        <td class="table--commercial__cell hide-cell-on-mobile">£@{"%,.0f".format(loan.maxAdvance)}</td>
                                        <td class="table--commercial__cell"><a href="@loan.applyUrl" data-link-name="merchandising-moneydeals-v@{version}_@{date}-browse-@loan.name-more">More <span class="u-h">about @loan.name's offer</span></a></td>
                                    </tr>
                                }
                                </tbody>
                            </table>
                            <p>Your home may be repossessed if you do not keep up repayments on a mortgage, loan or any other debt secured on it.</p>
                            <p class="lineitem__meta">Data provided by Moneysupermarket.com. Moneysupermarket.com Limited is an appointed representative of Moneysupermarket.com Financial Group Limited &copy;, which is authorised and regulated by the Financial Services Authority (FSA FRN 303190). Moneysupermarket.com Financial group Limited, registered in England No. 3157344. Registered Office: Moneysupermarket House, St. David's Park, Ewloe, CH5 3UZ. Telephone 01244 665700.</p>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
}
