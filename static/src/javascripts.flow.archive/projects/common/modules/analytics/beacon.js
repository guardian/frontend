/**
 * DO NOT EDIT THIS FILE
 *
 * It is not used to to build anything.
 *
 * It's just a record of the old flow types.
 *
 * Use it as a guide when converting
 * - static/src/javascripts/projects/common/modules/analytics/beacon.js
 * to .ts, then delete it.
 */

// @flow

import config from 'lib/config';
import fetch from 'lib/fetch';

const fire = (path: string): Image => {
    const img = new Image();

    img.src = config.get('page.beaconUrl') + path;

    return img;
};

const postJson = (path: string, jsonString: string): void => {
    const url =
        config
            .get('page.beaconUrl', '')
            .replace(/^\/\//, `${window.location.protocol}//`) + path;

    fetch(url, {
        method: 'post',
        header: {
            'Content-Type': 'application/json',
        },
        body: jsonString,
        mode: 'cors',
    });
};

export { fire, postJson };
