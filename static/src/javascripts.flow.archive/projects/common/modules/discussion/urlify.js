/**
 * DO NOT EDIT THIS FILE
 *
 * It is not used to to build anything.
 *
 * It's just a record of the old flow types.
 *
 * Use it as a guide when converting
 * - static/src/javascripts/projects/common/modules/discussion/urlify.js
 * to .ts, then delete it.
 */

// @flow

export const urlify = (str: string): string => {
    const reOutsideTags = '(?![^<]*>|[^<>]*</)';
    const reUrl = '\\b((https?://|www.)\\S+)\\b';
    const regexp = new RegExp(reUrl + reOutsideTags, 'g');

    return str.replace(regexp, (match, url, protocol) => {
        const fullUrl = protocol === 'www.' ? `http://${url}` : url;
        return `<a href="${fullUrl}">${url}</a>`;
    });
};
