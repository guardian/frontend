/**
 * DO NOT EDIT THIS FILE
 *
 * It is not used to to build anything.
 *
 * It's just a record of the old flow types.
 *
 * Use it as a guide when converting
 * - static/src/javascripts/projects/journalism/modules/audio-series-add-contributions.js
 * to .ts, then delete it.
 */

// @flow

import fastdom from 'lib/fastdom-promise';
import template from 'lodash/template';
import audioContribBanner from 'raw-loader!journalism/views/audioSeriesContributions.html';
import { supportContributeURL } from 'common/modules/commercial/support-utilities';

const renderContributionsBanner = el => {
    const banner = template(audioContribBanner)({
        supportContributeURL: supportContributeURL(),
    });

    fastdom.mutate(() => {
        el.insertAdjacentHTML('afterend', banner);
    });
};

export const addContributionsBanner = () => {
    const allEpisodes = document.querySelectorAll('section.fc-container--tag');

    if (allEpisodes.length >= 5) {
        renderContributionsBanner(allEpisodes[4]);
    }
};
