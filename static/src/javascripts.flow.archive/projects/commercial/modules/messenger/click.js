/**
 * DO NOT EDIT THIS FILE
 *
 * It is not used to to build anything.
 *
 * It's just a record of the old flow types.
 *
 * Use it as a guide when converting
 * - static/src/javascripts/projects/commercial/modules/messenger/click.js
 * to .ts, then delete it.
 */

// @flow
import { trackNativeAdLinkClick } from 'common/modules/analytics/google';
import type { RegisterListeners } from 'commercial/modules/messenger';

const sendClick = (adSlot: Element, linkName: string): void => {
    trackNativeAdLinkClick(adSlot.id, linkName);
};

const init = (register: RegisterListeners): void => {
    register('click', (linkName, ret, iframe = {}) =>
        sendClick(
            iframe.closest('.js-ad-slot') || {
                id: 'unknown',
            },
            linkName || ''
        )
    );
};

export { init };

export const _ = { sendClick };
