@import '_tones';

@include tone-head(news, $c-newsDefault, $c-newsAccent);
@include tone-head(comment, $c-commentDefault, $c-commentAccent);
@include tone-head(feature, $c-featureDefault, $c-featureAccent);
@include tone-head(live, $c-liveDefault, $c-liveAccent);
@include tone-head(media, $c-mediaDefault, $c-mediaDefault);


@mixin tones-content {
    // Tonal article styles
    // @mixin article-header-tone($tone,   $backgroundColour,     $backgroundAccentColour, $textColour,     $textAccentColour,  $commentIcon)
    @include article-header-tone(feature,  $c-featureDefault,     $c-featureAccent2,       #ffffff,         $c-featureAccent,   'white');
    @include article-header-tone(comment,  $c-commentBackground,  $c-commentDefault,       $c-neutral1,     $c-commentDefault,  'black');
    @include article-header-tone(live,     $c-liveDefault,        $c-liveAccent,           #ffffff,         #ffffff,            'white');
    @include article-header-tone(dead,     #ffffff,               $c-neutral6,             $c-neutral1,     $c-liveDefault,     'black');

    .content__head--tonal {
        background-color: #ffffff;

        .tone-background--accent {
            padding: $gs-baseline/2 0 $gs-baseline;
        }

        .content__standfirst {
            margin-bottom: 0;
        }

        .tone-background .content__main-column:after {
            // not including clearfix here because we only want to clear at :after
            content: '';
            display: table;
            clear: both;
        }
    }

    /* Tonal byline / contributor image
       ========================================================================== */
    .content__head--tonal {
        .content__headline--byline {
            padding-bottom: $gs-baseline*2;
            min-height: 0;
        }

        .content__headline--byline,
        .byline-img {
            display: block;
            padding-top: 0;
            margin-top: -$gs-baseline*2;

            @include mq(tablet) {
                margin-top: -$gs-baseline*3;
            }
        }

        .byline-img {
            float: right;
            height: $gs-baseline * 12.5;

            @include mq($until: mobileLandscape) {
                margin-left: -(gs-span(1) + $gs-gutter);
                margin-right: -($gs-gutter * 2);
            }

            @include mq(mobileLandscape) {
                width: 0;
                position: absolute;
                bottom: 0;
                right: gs-span(3);
                height: 80%;
            }

            @include mq(phablet) {
                height: gs-span(2.5) + ($gs-gutter*2);
            }

            @include mq(desktop) {
                height: gs-span(3) + ($gs-gutter*2);
                right: gs-span(1) + $gs-gutter;
            }
        }
        .byline-img__img {
            height: 100%;
        }
    }

    .content__head--byline-pic {
        .tone-background .content__main-column {
            @include mq(tablet) {
                min-height: gs-height(5);
            }
        }
        .content__headline {
            @include mq(mobileLandscape) {
                padding-right: gs-span(2) + $gs-gutter;
            }

            @include mq(desktop) {
                padding-right: $gs-gutter*2;
            }
        }
        .content__head__comment-count {
            position: absolute;
            bottom: 0;
        }
    }

    /* Tone specific rules/overrides
       ========================================================================== */
    .tone-live .content__head--tonal {
        .blog__meta-container {
            color: #ffffff;
            border-top-color: $c-featureMute;
        }
        .blog__last-updated-container,
        .content__series-label a {
            color: #ffffff;
        }
    }

    .tone-dead .content__head--tonal {
        .content__series-label__link {
            color: $c-neutral2;
        }
        .blog__meta-container {
            color: $c-neutral2;
            border-top-color: $c-neutral3;
        }
        .blog__last-updated-container {
            color: $c-neutral2;
        }
    }

    .tone-feature--article,
    .tone-comment--article {
        .content__headline {
            font-weight: 200;
        }

        @include mq(phablet) {
            .content__main-column--article {
                margin-top: $gs-baseline;
            }
        }
    }

    .content.tone-feature {
        .content__head--tonal {
            .content__standfirst {
                color: #ffffff;
            }
        }
    }

    .content.tone-comment {
        .content__head--tonal {
            .bullet:before,
            ul > li:before {
                background-color: $c-commentAccent;
            }

            .tone-background--accent {
                padding-bottom: $gs-baseline * 2;

                .content__standfirst {
                    color: #ffffff;
                }
            }

            .content__headline--byline .tone-colour:hover {
                text-decoration: none;
                border-bottom: 2px solid;
            }

            .u-underline {
                border-bottom-color: $c-commentBackground;
                color: $c-commentBackground;

                &:hover {
                    border-bottom-color: $c-commentAccent;
                    color: $c-commentAccent;
                }
            }
        }

        .drop-cap {
            color: #333333;
        }
    }
}
