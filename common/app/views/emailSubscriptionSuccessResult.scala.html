@import com.gu.identity.model.EmailNewsletter
@import experiments.{ActiveExperiments, NewsletterEmbedDesign}
@import services.newsletters.NewsletterResponse
@(page: model.Page, emailNewsletter: NewsletterResponse, listName: String)(implicit request: RequestHeader, context: model.ApplicationContext)

@electionNewsletters = @{List("minute-us", "us-morning-newsletter", "today-us", "green-light")}

@emailEmbed(page) {
    @if(ActiveExperiments.isParticipating(NewsletterEmbedDesign) && electionNewsletters.contains(listName)) {
        @fragments.email.signup.result.emailResultNewDesign(
            listName,
            emailNewsletter,
            fragments.email.signup.result.emailSuccess(emailNewsletter.emailEmbed)
        )
    } else {
        @fragments.email.signup.result.emailSuccess(emailNewsletter.emailEmbed)
    }

}
