@(page: model.MetaData, showNav: Boolean=true)(implicit request: RequestHeader)
@import views.support.HasClassicVersion

@import conf.Switches._
@import org.joda.time.DateTime
@import common.Edition
@import common.LinkTo
@import common.editions.{Au, Uk, Us}

<footer class="l-footer u-cf" data-link-name="footer" data-component="footer">

    @if(ReleaseMessageSwitch.isSwitchedOn && HasClassicVersion(page)) {
        <div class="site-message--footer is-hidden js-footer-message" data-link-name="release message">
            <div class="gs-container">
                <div class="site-message__inner">
                    <div class="site-message__media">
                        @fragments.inlineSvg("marque-36", "icon")
                    </div>
                    <div class="site-message__copy js-footer-site-message-copy u-cf"></div>
                </div>
            </div>
        </div>
    }

    <div class="l-footer__primary">
        <div id="footer-nav" class="gs-container">
            <div class="brand-bar u-cf">
                <a href="@LinkTo{/}" data-link-name="site logo" class="guardian-logo-footer hide-on-mobile">
                    <span class="u-h">The Guardian</span>
                    <i class="i i-guardian-logo-160"></i>
                </a>
                <a class="brand-bar__item brand-bar__item--action" data-link-name="back to top" href="#top">
                    <span class="rounded-icon control__icon-wrapper">
                        <i class="i i-arrow-white-up-36"></i>
                    </span>
                    <span class="control__info">back to top</span>
                </a>
            </div>
            @if(showNav) {
                <div class="l-footer__navigation-wrapper u-cf">
                    @fragments.nav.navigationFooter(page)
                </div>
            }

            @page match {
                case content: model.Content => {
                    @fragments.breadcrumb(content)
                }

                case _ => {}
            }
        </div>
    </div>

    <div class="l-footer__secondary gs-container" role="contentinfo">
        <ul class="colophon u-cf">
        @defining(Edition(request)) { currentEdition =>
            @if(currentEdition == Uk) {
                <li class="colophon__item"><a data-link-name="uk : footer : membership" href="https://membership.theguardian.com/?INTCMP=NGW_FOOTER_UK_GU_MEMBERSHIP">
                    membership</a></li>
                <li class="colophon__item"><a data-link-name="uk : footer : jobs" href="http://jobs.theguardian.com/?INTCMP=NGW_FOOTER_UK_GU_JOBS">
                    jobs</a></li>
                <li class="colophon__item"><a data-link-name="uk : footer : soulmates" href="https://soulmates.theguardian.com/?INTCMP=NGW_FOOTER_UK_GU_SOULMATES">
                    dating</a></li>
                <li class="colophon__item"><a data-link-name="uk : footer : masterclasses" href="/guardian-masterclasses?INTCMP=NGW_FOOTER_UK_GU_MASTERCLASSES">
                    masterclasses</a></li>
                <li class="colophon__item"><a data-link-name="uk : footer : subscribe" target="_blank" href="http://subscribe.theguardian.com/?INTCMP=NGW_FOOTER_UK_GU_SUBSCRIBE">
                    subscribe</a></li>
            }

            @if(currentEdition == Us) {
                <li class="colophon__item"><a data-link-name="us : footer : jobs" href="http://jobs.theguardian.com/?INTCMP=NGW_FOOTER_US_GU_JOBS">
                    jobs</a></li>
                <li class="colophon__item"><a data-link-name="us : footer : subscribe" target="_blank" href="http://subscribe.theguardian.com/us?INTCMP=NGW_FOOTER_US_GU_SUBSCRIBE">
                    subscribe</a></li>
            }

            @if(currentEdition == Au) {
                <li class="colophon__item"><a data-link-name="au : footer : advertising" href="/advertising/guardian-australia-advertising">
                    advertising</a></li>
                <li class="colophon__item"><a data-link-name="au : footer : masterclasses" href="/guardian-masterclasses/guardian-masterclasses-australia">
                    masterclasses</a></li>
                <li class="colophon__item"><a data-link-name="au : footer : subscribe" target="_blank" href="http://subscribe.theguardian.com/au?INTCMP=NGW_FOOTER_AU_GU_SUBSCRIBE">
                    subscribe</a></li>
                <li class="colophon__item"><a data-link-name="au : footer : uk-jobs" href="http://jobs.theguardian.com/?INTCMP=NGW_FOOTER_AU_GU_JOBS">
                    UK jobs</a></li>
            }
        <li class="colophon__item"><a data-link-name="all topics" href="/index/subjects/a">all topics</a></li>
        <li class="colophon__item"><a data-link-name="all contributors" href="/index/contributors">all contributors</a></li>

            @if(currentEdition == Uk) {
                <li class="colophon__item"><a data-link-name="uk : footer : about us" target="_blank" href="/info">
                    about us</a></li>
                <li class="colophon__item"><a data-link-name="uk : footer : contact us" target="_blank" href="/help/contact-us">
                    contact us</a></li>
                <li class="colophon__item"><a data-link-name="uk : footer : feedback" target="_blank" href="https://www.surveymonkey.com/s/theguardian-uk-edition-feedback">
                    feedback</a></li>
            }

            @if(currentEdition == Us) {
                <li class="colophon__item"><a data-link-name="us : footer : about us" target="_blank" href="/info/about-guardian-us">
                    about us</a></li>
                <li class="colophon__item"><a data-link-name="us : footer : contact us" target="_blank" href="/info/about-guardian-us/contact">
                    contact us</a></li>
                <li class="colophon__item"><a data-link-name="us : footer : feedback" target="_blank" href="https://www.surveymonkey.com/s/theguardian-us-edition-feedback">
                    feedback</a></li>
            }
            @if(currentEdition == Au) {
                <li class="colophon__item"><a data-link-name="au : footer : about us" href="/info/about-guardian-australia">
                    about us</a></li>
                <li class="colophon__item"><a data-link-name="au : footer : vacancies" href="/info/2014/aug/11/guardian-australia-vacancies">
                    vacancies</a></li>
                <li class="colophon__item"><a data-link-name="au : footer : about us" target="_blank" href="/info">
                    about us</a></li>
                <li class="colophon__item"><a data-link-name="au : footer : contact us" target="_blank" href="/info/2013/may/26/contact-guardian-australia">
                    contact us</a></li>
                <li class="colophon__item"><a data-link-name="au : footer : feedback" target="_blank" href="https://www.surveymonkey.com/s/theguardian-au-edition-feedback">
                    feedback</a></li>
            }
            @if(currentEdition != Au) {
                <li class="colophon__item"><a data-link-name="complaints" href="/info/complaints-and-corrections">
                    complaints &amp; corrections</a></li>
            }
            <li class="colophon__item"><a data-link-name="terms" href="/help/terms-of-service">terms &amp; conditions</a></li>
            <li class="colophon__item"><a data-link-name="privacy" href="/help/privacy-policy">privacy policy</a></li>
            <li class="colophon__item"><a data-link-name="cookie" href="/info/cookies">cookie policy</a></li>
            <li class="colophon__item"><a data-link-name="securedrop" href="https://securedrop.theguardian.com/">securedrop</a></li>

            @if(HasClassicVersion(page)) {
                <li class="colophon__item hide-on-mobile">@fragments.mainSiteLink(page, label = "use current version")</li>
                <li class="colophon__item mobile-only">@fragments.mainSiteLink(page, label = "desktop site")</li>
            }
        }
        </ul>
        <div class="l-footer__misc">
            <div class="really-serious-copyright">© @{new DateTime().year.getAsText} Guardian News and Media Limited or its affiliated companies. All rights reserved.</div>
        </div>
    </div>
</footer>
