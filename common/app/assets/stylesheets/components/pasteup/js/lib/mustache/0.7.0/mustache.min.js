var Mustache;
(function(p){"undefined"!==typeof module&&module.exports?module.exports=p:"function"===typeof define?define(p):Mustache=p})(function(){function p(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(a){this.tail=this.string=a;this.pos=0}function l(a,b){this.view=a;this.parent=b;this.clearCache()}function g(){this.clearCache()}function w(a){for(var b=a[3],c=b,d;(d=a[4])&&d.length;)a=d[d.length-1],c=a[3];return[b,c]}function s(a){function b(a,b,h){if(!c[a]){var e=s(b);c[a]=function(a,
b){return e(a,b,h)}}return c[a]}var c={};return function(c,f,h){for(var e="",k,j,i=0,g=a.length;i<g;++i)switch(k=a[i],k[0]){case "#":j=h.slice.apply(h,w(k));e+=c._section(k[1],f,j,b(i,k[4],h));break;case "^":e+=c._inverted(k[1],f,b(i,k[4],h));break;case ">":e+=c._partial(k[1],f);break;case "&":e+=c._name(k[1],f);break;case "name":e+=c._escaped(k[1],f);break;case "text":e+=k[1]}return e}}function t(a){if(2!==a.length)throw Error("Invalid tags: "+a.join(" "));return[RegExp(p(a[0])+"\\s*"),RegExp("\\s*"+
p(a[1]))]}var j={name:"mustache.js",version:"0.7.0",tags:["{{","}}"]};j.Scanner=r;j.Context=l;j.Writer=g;var x=/\s*/,y=/\s+/,z=/\S/,u=/\s*=/,A=/\s*\}/,B=/#|\^|\/|>|\{|&|=|!/,v=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};j.escape=function(a){return String(a).replace(/[&<>"'\/]/g,function(a){return C[a]})};r.prototype.eos=function(){return""===this.tail};r.prototype.scan=function(a){return(a=
this.tail.match(a))&&0===a.index?(this.tail=this.tail.substring(a[0].length),this.pos+=a[0].length,a[0]):""};r.prototype.scanUntil=function(a){var b=this.tail.search(a);switch(b){case -1:a=this.tail;this.pos+=this.tail.length;this.tail="";break;case 0:a="";break;default:a=this.tail.substring(0,b),this.tail=this.tail.substring(b),this.pos+=b}return a};l.make=function(a){return a instanceof l?a:new l(a)};l.prototype.clearCache=function(){this._cache={}};l.prototype.push=function(a){return new l(a,this)};
l.prototype.lookup=function(a){var b=this._cache[a];if(!b){if("."===a)b=this.view;else for(var c=this;c;){if(0<a.indexOf("."))for(var d=a.split("."),f=0,b=c.view;b&&f<d.length;)b=b[d[f++]];else b=c.view[a];if(null!=b)break;c=c.parent}this._cache[a]=b}"function"===typeof b&&(b=b.call(this.view));return b};g.prototype.clearCache=function(){this._cache={};this._partialCache={}};g.prototype.compile=function(a,b){return this._compile(this._cache,a,a,b)};g.prototype.compilePartial=function(a,b,c){return this._compile(this._partialCache,
a,b,c)};g.prototype.render=function(a,b,c){return this.compile(a)(b,c)};g.prototype._compile=function(a,b,c,d){if(!a[b]){var d=j.parse(c,d),f=s(d),h=this;a[b]=function(a,b){if(b)if("function"===typeof b)h._loadPartial=b;else for(var d in b)h.compilePartial(d,b[d]);return f(h,l.make(a),c)}}return a[b]};g.prototype._section=function(a,b,c,d){a=b.lookup(a);switch(typeof a){case "object":if(v(a)){for(var c="",f=0,h=a.length;f<h;++f)c+=d(this,b.push(a[f]));return c}return a?d(this,b.push(a)):"";case "function":var e=
this;return a.call(b.view,c,function(a){return e.render(a,b)})||"";default:if(a)return d(this,b)}return""};g.prototype._inverted=function(a,b,c){a=b.lookup(a);return!a||v(a)&&0===a.length?c(this,b):""};g.prototype._partial=function(a,b){!(a in this._partialCache)&&this._loadPartial&&this.compilePartial(a,this._loadPartial(a));var c=this._partialCache[a];return c?c(b):""};g.prototype._name=function(a,b){var c=b.lookup(a);"function"===typeof c&&(c=c.call(b.view));return null==c?"":String(c)};g.prototype._escaped=
function(a,b){return j.escape(this._name(a,b))};j.parse=function(a,b){for(var b=b||j.tags,c=t(b),d=new r(a),f=[],h=[],e=!1,k=!1,g,i,m;!d.eos();){g=d.pos;if(m=d.scanUntil(c[0]))for(var l=0,q=m.length;l<q;++l)if(i=m.charAt(l),RegExp.prototype.test.call(z,i)?k=!0:h.push(f.length),f.push(["text",i,g,g+1]),g+=1,"\n"===i){if(e&&!k)for(;h.length;)f.splice(h.pop(),1);else h=[];k=e=!1}g=d.pos;if(!d.scan(c[0]))break;e=!0;i=d.scan(B)||"name";d.scan(x);"="===i?(m=d.scanUntil(u),d.scan(u),d.scanUntil(c[1])):"{"===
i?(m=RegExp("\\s*"+p("}"+b[1])),m=d.scanUntil(m),d.scan(A),d.scanUntil(c[1]),i="&"):m=d.scanUntil(c[1]);if(!d.scan(c[1]))throw Error("Unclosed tag at "+d.pos);f.push([i,m,g,d.pos]);if("name"===i||"{"===i||"&"===i)k=!0;"="===i&&(b=m.split(y),c=t(b))}for(var n,d=0;d<f.length;++d)c=f[d],n&&"text"===n[0]&&"text"===c[0]?(n[1]+=c[1],n[3]=c[3],f.splice(d--,1)):n=c;e=n=[];c=[];for(h=0;h<f.length;++h)switch(d=f[h],d[0]){case "#":case "^":d[4]=[];c.push(d);e.push(d);e=d[4];break;case "/":if(0===c.length)throw Error("Unopened section: "+
d[1]);e=c.pop();if(e[1]!==d[1])throw Error("Unclosed section: "+e[1]);e=0<c.length?c[c.length-1][4]:n;break;default:e.push(d)}if(e=c.pop())throw Error("Unclosed section: "+e[1]);return n};var q=new g;j.clearCache=function(){return q.clearCache()};j.compile=function(a,b){return q.compile(a,b)};j.compilePartial=function(a,b,c){return q.compilePartial(a,b,c)};j.render=function(a,b,c){return q.render(a,b,c)};j.to_html=function(a,b,c,d){a=j.render(a,b,c);if("function"===typeof d)d(a);else return a};return j}());
