<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>

  <title id="foo">Jasmine Spec Runner</title>

  <link rel="shortcut icon" type="image/png" href="vendor/jasmine-1.2.0/jasmine_favicon.png">
  <link rel="stylesheet" type="text/css" href="vendor/jasmine-1.2.0/jasmine.css">
  <script type="text/javascript" src="vendor/jasmine-1.2.0/jasmine.js"></script>
  <script type="text/javascript" src="vendor/jasmine-1.2.0/jasmine-html.js"></script>
  <script type="text/javascript" src="../../../app/assets/javascripts/vendor/curl-0.7.2.js"></script>
  <script>
      curl({
        baseUrl: "../../../app/assets/javascripts/",
        apiName: 'require',
        paths: {
                common:       'common',
                bonzo:        'vendor/bonzo-1.2.1',
                qwery:        'vendor/qwery-mobile-3.3.11',
                bean:         'vendor/bean-1.0.1',
                reqwest:      'vendor/reqwest-0.4.5',
                analytics:    'modules/analytics',
                EventEmitter: 'vendor/EventEmitter-3.1.5',
                omniture:     '../../../app/public/javascripts/vendor/omniture'
            }
      });
  </script>
  <style>
    ul ul { margin-left: 0; padding: 0; }
    ul ul li { margin-left: 40px; }

    .initially-off:after { content: " -- (hidden)"; }
    .on:after { content: " -- (visible)"; }
  </style>
  <script type="text/javascript" src="vendor/sinon-1.3.4/sinon.js"></script>
  <script type="text/javascript" src="vendor/sinon-1.3.4/jasmine-sinon.js"></script>
  <script type="text/javascript">

    window.onhashchange = function(){
      window.location.reload();
    }

    var spec = location.hash.replace('#', '');

    if (spec) {

        document.getElementById("foo").innerHTML = 'Jasmine Spec Runner - ' + spec;

        // jasmine boilerplate
        (function() {
          var jasmineEnv = jasmine.getEnv();
          jasmineEnv.updateInterval = 1000;

          var htmlReporter = new jasmine.HtmlReporter();

          jasmineEnv.addReporter(htmlReporter);

          jasmineEnv.specFilter = function(spec) {
            return htmlReporter.specFilter(spec);
          };

          var currentWindowOnload = window.onload;

          // require the spec's
          require(['../../../test/assets/javascripts/spec/' + spec + '.spec'], function(spec) {
              jasmineEnv.execute();
            });

          })();
    }

  </script>
  <style>
      #test-cases div { display: none;}
  </style>
</head>

<body>

    <!-- Adverts.spec, keeping these here so they stay on screen. :/ -->
    <div id="ad-slot-top-banner-ad" data-link-name="ad slot top-banner-ad" data-base="Top2" data-median="Top" data-extended="x54" class="ad-slot"></div>
    <div id="ad-slot-bottom-banner-ad" data-link-name="ad slot bottom-banner-ad" data-base="Bottom2" data-median="Bottom" data-extended="x54" class="ad-slot"></div>

    <ul id="tests">
        <li>
            Analytics
            <ul>
                <li><a href="#Clickstream">Clickstream</a>
                <li><a href="#Omniture">Omniture</a> - <em>uses a mock Omniture library</em>
                <li><a href="#OmnitureLib">Omniture Lib</a> - <em>loads the real Omniture library</em>
            </ul>
        </li>
         <li>
            Ads
            <ul>
                <li><a href="#AudienceScience">AudienceScience</a>
                <li><a href="#Adverts">Adverts</a>
            </ul>        
        </li>
        <li><a href="#Common">Common</a></li>
        <li><a href="#Detect">Detect</a></li>
        <li><a href="#Errors">Errors</a></li>
        <li><a href="#Cookies">Cookies</a></li>
        <li><a href="#Expandable">Expandable</a></li>
        <li><a href="#Images">Image</a></li>
        <li>
            Navigation
            <ul>
                <li><a href="#Navigation">Navigation</a></li>
                <li><a href="#NavigationControls">Navigation Controls</a></li>
            </ul>
        </li>
        <li><a href="#Popular">Popular</a></li>
        <li><a href="#Related">Related</a></li>
        <li><a href="#Fonts">Fonts</a>
        <li><a href="#RelativeDates">Relative Dates</a></li>
        <li><a href="#Tabs">Tabs</a></li>
        <li><a href="#TrailblockToggle">Trailblock Toggle</a></li>
        <li><a href="#Autoupdate">Auto update</a></li>
        <li><a href="#MoreMatches">More Matches</a></li>
        <li><a href="#FootballFixtures">Football Fixtures</a></li>
        <li><a href="#FootballTables">Football Tables</a></li>
        <li><a href="#Router">Router</a></li>
    </ul>

    <div id="test-cases">

        <!-- UpgradeImages.spec -->
        <img data-upgrade="true" 
              data-fullsrc="http://placekitten.com/1/1"
              src="http://placekitten.com/2/2"
              data-thumb-width="5"
              data-full-width="100"
              id="upgradeImages"
              class="visible" />

        <img data-svgsrc="http://x.y.z/b.svg" id="upgradeSvgImages" class="visible" src="http://x.y.z/c.svg"/>

        <!-- Related.spec -->
        <div id="related-1"></div>
        <div id="related-2"></div>

        <!-- Popular.spec -->
        <div id="popular-1"></div>

        <!-- Expandables -->
        <style>
            ul.flex {
                transition: background-color 0.5s linear;
                -moz-transition: background-color 0.5s linear;
                -o-transition: background-color 0.5s linear;
                -webkit-transition: background-color 0.5s linear;
            }
            .shut ul.flex { background-color: #999; } /* illustrative */
            ul.flex { background-color: #ccc; }
        </style>

        <!-- trail -->
        <div id="trail-a" data-count="5">
            <ul>
                <li class="t1">one</li>
                <li class="t2">two</li>
            </ul>
            <ul class="flex">
                <li class="t3">three</li>
                <li class="t4">four</li>
                <li class="t5">five</li>
            </ul>
        </div>

        <div id="trail-b" data-count="3">
            <ul>
                <li class="t1">one</li>
                <li class="t1">two</li>
            </ul>
            <ul class="flex">
                <li class="t2">three</li>
            </ul>
        </div>

        <div id="trail-c" data-count="3" class="shut">
        </div>

        <div id="trail-d" data-count="1" class="shut">
        </div>

        <div id="trail-e" data-count="3">
            <ul>
                <li class="t1">one</li>
                <li class="t2">two</li>
            </ul>
            <ul class="flex">
                <li class="t3">three</li>
            </ul>
        </div>

        <!-- -->
        <div id="trail-f" data-count="-1">
        </div>

        <div id="trail-g" data-count="2">
        </div>

        <!-- RelativeDates.spec -->
        <div id="relative-dates">
          <p><strong>Test dates</strong> (should be replaced with timestamps)</p>
          <ul>
            <li id="relative-date-test-item" class="js-timestamp" data-timestamp="1334339016">Friday 13th Apr. 2012, 6.43pm</li>
            <li class="js-timestamp" data-timestamp="1344859200">Monday 13th Aug. 2012, 12pm</li>
            <li id="relative-date-invalid-item" class="js-timestamp" data-timestamp="last tuesday">(deliberate invalid timestamp)</li>
          </ul>
        </div>


        <!-- Tabs.spec -->
        <p id="tabs-test">

          <ol class="tabs">
              <li class="tabs-selected"><a id="tab1" href="#tab1panel">Foo</a></li>
              <li><a id="tab2" href="#tab2panel">Bar</a></li>
          </ol>

          <div class="tabs-content">
               <div class="tabs-pane" id="tab1panel">foo</div>
               <div class="tabs-pane initially-off" id="tab2panel">bar</div>
          </div>


          <ol class="tabs">
              <li class="tabs-selected"><a id="tab1_2" href="#tab1panel_2">Foo</a></li>
              <li><a id="tab2_2" href="#tab2panel_2">Bar</a></li>
              <li><a id="fake-tab" href="http://www.google.com">Google (fake tab)</a></li>
          </ol>

          <div class="tabs-content">
               <div class="tabs-pane" id="tab1panel_2">foo</div>
               <div class="tabs-pane initially-off" id="tab2panel_2">bar</div>
          </div>

        </p>

        <!-- -->
        <div id="offcanvas-sections">offcanvas-sections-placeholder</div>
        <div id="sections">a list of sections</div>
        <div id="sections-control">s1</div>
        <div id="topstories-control">s1</div>

    </div>

    <!-- Clickstream.spec -->
    <div data-link-name="outer div">
        <p id="not-inside-a-link">
            <a href="/foo" id="click-me" data-link-name="the link">The link</a>
            <a href="/foo" id="click-me-quick" data-is-ajax="true" data-link-name="xhr link">Xhr Link</a>
            <button id="click-me-button" data-link-name="the button">Span Link</button>
            <p href="#hello" id="click-me-slow" data-link-name="paragraph">Paragraph 'Link'</p>
        </p>
    </div>

    <!-- Navigation.spec -->
    <div>
        <a id="sections-control-header" href="#">sections (header)</a>
        <a id="topstories-control-header" href="#">top stories (header)</a>
        <a id="sections-control-footer" href="#">sections (footer)</a>
        <a id="topstories-control-footer" href="#">top stories (footer)</a>

        <div id="sections-header" class="initially-off">sections popup (header)</div>
        <div id="topstories-header" class="initially-off">top stories popup (header)</div>
        <div id="sections-footer" class="">sections popup (footer)</div> <!-- should be auto-hidden -->
        <div id="topstories-footer" class="initially-off">top stories popup (footer)</div>
    </div>

    <!-- TrailblockToggle.spec -->

    <a class="js-toggle-trailblock" href="javascript://" data-zone-name="uk" data-block-name="sport" id="js-trigger-sport">Hide</a>

    <div class="trailblock js-front-trailblock shut rolled-out" id="front-trailblock-sport" data-count="5" data-link-name="front block News">
      <ul class="unstyled">
        <li></li>
      </ul>
    </div>

    <!-- Autoupdate.spec -->

    <div id="update-area"></div>

    <div class="update"></div>

    <!-- MoreMatches.spec -->
    <div id="matches-nav" class="cf js-not-ajax">
        <a href="fixtures/football-prev" class="match-prev" data-js-title="Show previous day's matches">Previous day</a>
    </div>


    <!--  FootballFixtures.spec -->
    <div id="football-fixtures">
      <ul>
        <li></li>
      </ul>
    </div>
    
    <!--  FootballTables.spec -->
    <div id="football-tables">
      <ul>
        <li></li>
      </ul>
    </div>


<!-- Fonts.spec -->
<style data-cache-name="guardian-font1" data-cache-file-woff="font1.woff.js" data-cache-file-ttf="font1.ttf.js"></style>
<style data-cache-name="guardian-font2" data-cache-file-woff="font2.woff.js" data-cache-file-ttf="font2.ttf.js"></style>

</body>
</html>
