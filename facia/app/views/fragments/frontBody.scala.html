@(faciaPage: model.FaciaPage)(implicit request: RequestHeader)
@import common.Edition
@import views.support.RenderClasses

@defining(Edition(request)) { edition =>
    @defining((faciaPage.isSponsored(Some(edition)),
        faciaPage.isAdvertisementFeature,
        faciaPage.isFoundationSupported,
        faciaPage.sponsor(edition))) { case (isSponsored, isAdFeature, isFoundationFunded, maybeSponsor) =>
        @if(faciaPage.collections.nonEmpty) {
            <div class="l-side-margins">
                <div class="history-tags js-history-tags"></div>
                <div class="@RenderClasses(Map(
                    "fc-container--sponsored" -> isSponsored,
                    "fc-container--advertisement-feature" -> isAdFeature,
                    "js-sponsored-front" -> (isSponsored || isAdFeature || isFoundationFunded)
                ), "facia-page")"
                data-link-name="Front | @request.path"
                    @maybeSponsor.map { sponsor =>
                    data-sponsor="@sponsor"
                    }
                    @faciaPage.sponsorshipType.map { sponsorshipType =>
                    data-sponsorship="@sponsorshipType"
                    }
                role="main">

                    @defining(faciaPage.front.containers) { collections =>
                        @collections.map { containerDefinition =>
                            @fragments.containers.facia_cards.container(containerDefinition, faciaPage.frontProperties)
                        }
                    }

                    @fragments.trendingTopics(faciaPage.allItems, faciaPage.id, faciaPage.allPath)

                    @if(!isAdFeature) {
                        <div class="fc-container fc-container--commercial">
                        @fragments.commercial.commercialComponent()
                        </div>
                    }
                </div>
            </div>
        }
    }
}
