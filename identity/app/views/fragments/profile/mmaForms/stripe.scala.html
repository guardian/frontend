@import views.html.fragments.selectDates
@()
<ul class="details-list details-list--lower u-unstyled">
    <li class="details-list__item">
        <div class="fieldset__heading">
            <h2 class="form__heading">
                    Card details
            </h2>
        </div>

        <div class="fieldset__fields u-cf">
            <div class="form-field">
                <span class="card-type-display js-mma-card-type"><span class="js-mma-payment-card-text u-h"></span></span>
                <span id="qa-card-details" class="card-details">
                        •••• •••• •••• <span class="js-mma-card-last4"></span>
                    </span>
                <button id="qa-change-card" class="submit-input mma-cta js-mma-change-card is-hidden" data-link-name="Change card">Change card</button>
            </div>
        </div>
    </li>
    <li class="details-list__item mma-tab__change-cc-form is-closed js-mma-card-details-form-container">
        <form class="js-mma-stripe-form">

            <div class="js-payment-errors qa-form-error form__error is-hidden"></div>

            <div class="fieldset__heading">
                <h2 class="form__heading">Change card details</h2>
            </div>
            <div class="fieldset__fields">
                <div class="form-field">
                    <label class="label" for="cc-num">Card Number</label>
                    <div class="input mma-tab__credit-card-container">
                        <i class="js-credit-card-image mma-tab__card-types--in-field"></i>
                        <input type="tel"
                               size="20"
                               data-stripe="number"
                               class="js-credit-card-number text-input"
                               id="cc-num"
                               placeholder="xxxx xxxx xxxx xxxx"
                               maxlength="19"
                               autocomplete="off"/>
                    </div>
                </div>

                <div class="form-field">
                    <label class="label" for="cc-cvc"></label>
                    <span>Security code</span>
                    <input type="tel"
                           size="4"
                           data-stripe="cvc"
                           class="js-credit-card-cvc text-input text-input--small text-input--block"
                           id="cc-cvc"
                           placeholder="CVC"
                           maxlength="4"
                           autocomplete="off"/>

                </div>

                <div class="form-field">
                    <label class="label" for="cc-exp-month"></label>
                    <span>Expiry</span>
                    <p>
                        <select data-stripe="exp-month" id="cc-exp-month" class="js-credit-card-exp-month">
                            <option selected="selected">Month</option>
                            @for(month <- selectDates.validCardMonths){
                                <option value="@month">@month</option>
                            }
                        </select>
                        <span> / </span>
                        <select data-stripe="exp-year" id="cc-exp-year" class="js-credit-card-exp-year">
                            <option selected="selected">Year</option>
                            @for((year, formattedYear) <- selectDates.validCardYears){
                                <option value="@year">@formattedYear</option>
                            }
                        </select>
                    </p>
                </div>
                <div class="form-field">
                    <button class="submit-input js-mma-change-cc-submit"
                            type="submit"
                            data-link-name="Update card details">Update</button>
                    <div class="is-updating js-updating"></div>
                </div>
            </div>
        </form>
    </li>
</ul>
